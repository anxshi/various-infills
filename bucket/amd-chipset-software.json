{
    "##": "TRY TO MAKE IT PORTABLE",
    "version": "7.06.02.123",
    "description": "AMD Chipset Driver for Ryzen processors",
    "homepage": "https://www.amd.com/en/support/download/drivers.html",
    "license": "Proprietary",
    "notes": "Only compatible with AMD Ryzen processors",
    "depends": "extras/vcredist2022",
    "url": "https://drivers.amd.com/drivers/amd_chipset_software_7.06.02.123.exe",
    "hash": "3753B0E41EAD2B1C3A94F57E08521119163276D9F3B7F769AE664BEAAC095A70",
    "pre_install": [
        "# Detect AMD system from SMBus vendor ID",
        "$pnpDevices = Get-WmiObject -Class Win32_PnPEntity",
        "$amdPattern = \"PCI\\\\VEN_(1002&DEV_(4353|4363|4372|4385)|1022&DEV_(780B|790B))\"",
        "if (!($pnpDevices.DeviceID -match $amdPattern)) {",
        "   error \"AMD system not detected.\"; break }"
    ],
    "checkver": {
        "url": "https://www.techpowerup.com/download/amd-ryzen-chipset-drivers/",
        "regex": "AMD Ryzen Chipset Drivers ([\\d.]+)\\s+Latest"
    },
    "autoupdate": {
        "url": "https://drivers.amd.com/drivers/amd_chipset_software_$version.exe",
        "hash": {
            "url": "https://www.techpowerup.com/download/amd-ryzen-chipset-drivers/",
            "find": "$basename[\\S\\s]+?$sha256"
        }
    }
}
